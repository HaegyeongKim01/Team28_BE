<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[[${card.name}]]님의 명함</title>

    <link rel="stylesheet" th:href="@{/css/global.css}">
    <link rel="stylesheet" th:href="@{/css/card/card-detail.css}">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script th:src="@{/js/script.js}"></script>

    <!-- 카카오 JavaScript SDK 로드 -->
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        Kakao.cleanup();
        Kakao.init(/*[[${kakaoJavascriptKey}]]*/ '' );
        /*]]>*/
    </script>
</head>
<body>

<!-- Header with smaller margin and padding -->
<div class="header">
    <h2 class="title">명함</h2>
</div>

<!-- Main container holding the card -->
<div class="container">
    <div class="card">
        <!-- Business card title -->
        <h2>[[${card.name}]]</h2>

        <!-- Card details -->
        <p>회사: [[${card.company}]]</p>
        <p>직책: [[${card.position}]]</p>
        <p>📱 전화번호: [[${card.phone}]]</p>
        <p>📧 이메일: [[${card.email}]]</p>

        <p>💻 GitHub:
            <a th:href="'https://github.com/' + ${card.githubId}" target="_blank" class="github-link">[[${card.githubId}]]</a>
        </p>
        <!-- Card introduction -->
        <p>소개: [[${card.bio}]]</p>
    </div>

    <!-- Share button with improved styling -->
    <button id="kakao-share-btn" class="share-button">카카오톡으로 공유하기</button>

    <!-- QR 공유 버튼 -->
    <button id="qr-share-btn" class="share-button" th:attr="data-card-id=${card.id}">QR 코드로 공유하기</button>
    <!-- QR 코드 이미지를 표시할 컨테이너 -->
    <div id="qr-image-container"></div>

    <!-- NFC 공유 버튼 -->
    <button id="nfc-share-btn" class="share-button" th:attr="data-card-id=${card.id}">NFC로 공유하기</button>

</div>

<!-- 하단 네비게이션 바 -->
<div th:replace="nav-bar :: navBar"></div>

<!-- Toast 알림 -->
<div id="toast" class="toast"></div>

<!-- JavaScript for Kakao sharing & Qr code functionality -->
<script th:src="@{/js/card/card-share.js}"></script>

</body>
</html>
